CREATE OR REPLACE VIEW user_dashboard AS SELECT
    TIER.TierName,
    MACHINE.MachineID,
    MACHINE.OperatingSystem,
    MACHINE.IPAddress,
    MACHINE.LastCheckIn,
    TASKS.TaskID,
    TASKS.TaskType
FROM
    DB_USERS
INNER JOIN TIER ON DB_USERS.TierID = TIER.TierID
INNER JOIN MACHINE ON DB_USERS.Username = MACHINE.Username
INNER JOIN TASKS ON DB_USERS.Username = TASKS.Username;
CREATE OR REPLACE VIEW machine_details AS SELECT
    MACHINE.MachineID,
    MACHINE.IPAddress,
    MACHINE.LastCheckIn,
    DB_USERS.Username,
    DB_USERS.Email,
    TASKS.TaskID,
    TASKS.TaskType
FROM
    MACHINE
INNER JOIN DB_USERS ON DB_USERS.Username = MACHINE.Username
INNER JOIN TASKS ON TASKS.Username = DB_USERS.Username;
CREATE OR REPLACE VIEW task_execution AS SELECT
    TASKS.TaskID,
    TASKS.TaskType,
    Executes.MachineID
FROM
    TASKS
INNER JOIN Executes ON TASKS.TaskID = Executes.TaskID;
CREATE OR REPLACE VIEW admin_overview AS SELECT
    DB_USERS.Username,
    DB_USERS.Email,
    DB_USERS.Refers_Username,
    TIER.TierLevel,
    COUNT(MACHINE.MachineID)
FROM
    DB_USERS
INNER JOIN TIER ON DB_USERS.TierID = TIER.TierID
INNER JOIN MACHINE ON DB_USERS.Username = MACHINE.Username
GROUP BY
    DB_USERS.Username;
